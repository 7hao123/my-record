# BI 低代码平台（前端视角）设计方案与技术亮点

> 目标：从前端工程师面试视角，聚焦“编辑器运行时、渲染引擎、交互状态、性能与可扩展性”的主流方案与技术亮点。

---

## 1) 前端核心定位（BI 低代码）
BI 低代码前端的核心不是“画面好看”，而是**把指标/维度语义通过配置驱动成可编辑的可视化页面**，并保障编辑态与运行态的一致性、可回放性和可扩展性。

---

## 2) 主流前端架构分层（通用范式）

### A. Editor Runtime（编辑器运行时）
- 画布交互：拖拽、缩放、旋转、框选、多选、对齐线、吸附、分组
- 交互状态：选中态/编辑态/预览态/拖拽态
- 关键实现：交互引擎 + 统一状态仓库（支持撤销/重做）

### B. Renderer Runtime（渲染运行时）
- Schema → 组件树 → UI 渲染
- 运行时只消费配置，不依赖编辑器逻辑
- 组件自管理数据请求与渲染

### C. Material Registry（物料注册中心）
- 统一物料元信息：默认尺寸、配置面板、数据约束、渲染组件
- 插件化扩展：新增物料不改核心引擎
- 类型切换与配置迁移

### D. Data Layer（数据与交互层）
- 统一请求参数拼装（维度/指标/筛选/钻取/同比环比）
- 统一数据获取与缓存策略
- 事件驱动联动（筛选、钻取、跳转）

---

## 3) 前端关键技术亮点（高频面试点）

### 1) 画布交互引擎设计
- 多选框选 + 拖拽缩放旋转组合操作
- 对齐线与吸附规则
- 组合组件（group）拖拽/缩放一致性

### 2) 状态管理与可回放编辑
- 单一状态源保存 `canvas + boxList`
- 操作原子化，支持撤销/重做
- 选中态与编辑态隔离，避免状态污染

### 3) Schema → Renderer 的运行时派发
- 组件映射表统一派发
- 运行时渲染与编辑器解耦
- 保证“配置即页面”

### 4) 物料协议与配置面板解耦
- 物料元信息统一管理（尺寸/默认值/配置结构/校验）
- 渲染逻辑与配置逻辑分离
- 支持图表类型切换并迁移配置

### 5) 数据驱动 UI 与联动体系
- 统一请求参数拼装，减少重复逻辑
- 维度筛选、钻取、排序、同比/环比作为标准能力
- 事件触发数据刷新，实现 BI 交互分析闭环

### 6) 编辑态 / 预览态分离
- 编辑态提供辅助线、选中框与配置面板
- 预览态更轻、更接近线上运行

---

## 4) BI 前端工程化能力（常见亮点）
- **运行时模式**：适屏/适宽/原始比例切换
- **导出能力**：PDF/图片导出与分页算法
- **资源/模板复用**：组件组合沉淀为资源
- **可维护性**：组件与画布解耦，物料插件化

---

## 5) 面试表达关键词（前端方向）
- Editor Runtime / Renderer Runtime
- Schema 驱动渲染
- 物料注册中心（Material Registry）
- 交互引擎（拖拽/框选/吸附/分组）
- Redux + undo/redo
- 数据驱动 UI + 统一查询参数
- 编辑态 / 预览态分离

---

## 6) 可扩展方向（前端视角）
- 性能优化：大节点渲染与局部更新
- 物料生态：开放 SDK / 插件市场
- 协作能力：多人编辑与冲突解决
- 低代码 + AI：自然语言生成 Schema

---

## 总结
主流 BI 低代码前端方案的本质是**“交互引擎 + 渲染引擎 + 物料协议 + 数据驱动”**。只有做到编辑态与运行态一致、物料可扩展、状态可回放、数据可联动，才具备真正的工程价值。
